<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-phmeter/tests/ec/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">EC | Hackuarium open-hardware documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.hackuarium.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.hackuarium.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.hackuarium.org/docs/phmeter/tests/ec/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="EC | Hackuarium open-hardware documentation"><meta data-rh="true" name="description" content="For the EC reading, we are checking all the hardware steps to be sure that the signal pass correctly."><meta data-rh="true" property="og:description" content="For the EC reading, we are checking all the hardware steps to be sure that the signal pass correctly."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.hackuarium.org/docs/phmeter/tests/ec/"><link data-rh="true" rel="alternate" href="https://docs.hackuarium.org/docs/phmeter/tests/ec/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.hackuarium.org/docs/phmeter/tests/ec/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hackuarium open-hardware documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hackuarium open-hardware documentation Atom Feed"><link rel="stylesheet" href="/assets/css/styles.46577296.css">
<script src="/assets/js/runtime~main.c1b9764a.js" defer="defer"></script>
<script src="/assets/js/main.bfba6fe7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_wDyG" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Hackuarium Logo" class="themedComponent_JFSu themedComponent--light_v3ri"><img src="/img/logo.svg" alt="Hackuarium Logo" class="themedComponent_JFSu themedComponent--dark_w6VD"></div><b class="navbar__title text--truncate">Hackuarium</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Projects</a><a class="navbar__item navbar__link" href="/docs/category/tutorial---basics">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QLyW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_VaEu colorModeToggle_qQw3"><button class="clean-btn toggleButton_ftVs toggleButtonDisabled_p1nA" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_e9S2"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_svXh"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_qxnT"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_DXpE"><div class="docsWrapper_fRZ3"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_zlNw" type="button"></button><div class="docRoot_FQMg"><aside class="theme-doc-sidebar-container docSidebarContainer_vKy0"><div class="sidebarViewport_DN2N"><div class="sidebar_oLMH"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_axrD"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Hackuarium documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/simple---spectro">Simple - Spectro</a><button aria-label="Expand sidebar category &#x27;Simple - Spectro&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/beemos">Beemos</a><button aria-label="Expand sidebar category &#x27;Beemos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/bioreactor">Bioreactor</a><button aria-label="Expand sidebar category &#x27;Bioreactor&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/incubator">Incubator</a><button aria-label="Expand sidebar category &#x27;Incubator&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/phmeter">PHMeter</a><button aria-label="Collapse sidebar category &#x27;PHMeter&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/phmeter">Goal of the project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/platformio-1">PlatformIO</a><button aria-label="Expand sidebar category &#x27;PlatformIO&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/making-1">Making</a><button aria-label="Expand sidebar category &#x27;Making&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/using-1">Using</a><button aria-label="Expand sidebar category &#x27;Using&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/testing-the-phmeter">Testing the pHMeter</a><button aria-label="Collapse sidebar category &#x27;Testing the pHMeter&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/phmeter/tests/battery/">Battery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/phmeter/tests/stability/">Stability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/phmeter/tests/ph/">pH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/phmeter/tests/ec/">EC</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/programming">Programming</a><button aria-label="Expand sidebar category &#x27;Programming&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/threadino">Threadino</a><button aria-label="Expand sidebar category &#x27;Threadino&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_T_H8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Ekbv"><div class="docItemContainer_DsiX"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__EWi" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Vdrd"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/phmeter"><span itemprop="name">PHMeter</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/testing-the-phmeter"><span itemprop="name">Testing the pHMeter</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EC</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_AV7I theme-doc-toc-mobile tocMobile_HD57"><button type="button" class="clean-btn tocCollapsibleButton_sjGK">On this page</button></div><div class="theme-doc-markdown markdown"><h1>EC</h1>
<p>For the EC reading, we are checking all the hardware steps to be sure that the signal pass correctly.</p>
<p><img loading="lazy" alt="pHMeter and EC probe" src="/assets/images/phMeter_pH_and_EC_probe-425ce632793cd50bd858393d69ab1713.jpg" width="1280" height="961" class="img_ePxS"></p>
<h2 class="anchor anchorWithStickyNavbar_9LLa" id="signal-generator">Signal generator<a href="#signal-generator" class="hash-link" aria-label="Direct link to Signal generator" title="Direct link to Signal generator">​</a></h2>
<p>This first test is in the outoput pin for the signal generator, you must to put the oscilloscope probe in the pin 7 for U8 IC like the next picture:</p>
<p><img loading="lazy" alt="EC test signal generator" src="/assets/images/ec_hw_test_signal_generator-a7fd9975bf6710f11066c4f392a9668a.png" width="776" height="835" class="img_ePxS"></p>
<p>If everything runs well, you have to obtain a signal plot like this:</p>
<p><img loading="lazy" alt="EC signal generator" src="/assets/images/signal_generator-85014fa2578bc4fae0e1294b82258d10.bmp" width="320" height="234" class="img_ePxS"></p>
<p>The ideal values for this part of the circuit need to be:</p>
<table><thead><tr><th style="text-align:left">Measurement</th><th>Value</th></tr></thead><tbody><tr><td style="text-align:left">Voltage Max</td><td>3.3 V</td></tr><tr><td style="text-align:left">Voltage Min</td><td>-3.3 V</td></tr><tr><td style="text-align:left">Frequency</td><td>1.76 kHz</td></tr></tbody></table>
<p>The experimental results are very similiar to the plot 1 in the figure:</p>
<p><img loading="lazy" alt="EC signal generator" src="/assets/images/signal_generator_pp-3a0fc2d53392355d2deebd05e757e3e4.bmp" width="320" height="234" class="img_ePxS"></p>
<h3 class="anchor anchorWithStickyNavbar_9LLa" id="excitation-signal">Excitation signal<a href="#excitation-signal" class="hash-link" aria-label="Direct link to Excitation signal" title="Direct link to Excitation signal">​</a></h3>
<p>Once you have a correct signal generation, the next step is check if you have the correct reduction voltage to supply the EC probe. So, you need to check the center pin for the BNC connector in the EC circuit.</p>
<p><img loading="lazy" alt="EC excitation" src="/assets/images/ec_hw_test_excitation-a5c7d31616304efd33a8b45eddc7e0b4.png" width="776" height="835" class="img_ePxS"></p>
<p>Now, you must obtain this results:</p>
<table><thead><tr><th style="text-align:left">Measurement</th><th>Value</th></tr></thead><tbody><tr><td style="text-align:left">Voltage Max</td><td>129 mV</td></tr><tr><td style="text-align:left">Voltage Min</td><td>-129 mV</td></tr><tr><td style="text-align:left">Frequency</td><td>1.76 kHz</td></tr></tbody></table>
<p>You can see plot 2 signal result in this figure:</p>
<p><img loading="lazy" alt="EC excitation plot" src="/assets/images/excitation_pp-43de1976666c5169792fa241fa8977af.bmp" width="320" height="234" class="img_ePxS"></p>
<div class="theme-admonition theme-admonition-info admonition_fUcp alert alert--info"><div class="admonitionHeading_WvcA"><span class="admonitionIcon_CYHh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_mvBh"><p>You can see the differnce between the magnitude of the voltage between the signal square generation and excitation in this figure:</p><ol>
<li>Considering the difference between the gain in each channel. <strong>Channel 1</strong> has 2.00 V for every square in the horizontal axis (white dots behind yellow and blue plots), while <strong>Channel 2</strong> has 200 mV instead.</li>
<li>Due to design for OPA (negative feedback), the excitation signal has the negative part for the signal generation, but this doesn&#x27;t have any important consequence later.</li>
</ol><p><img loading="lazy" alt="EC signal square generation vs EC excitation" src="/assets/images/signal_generator_vs_excitation-0f17f11ae76b123e77137209f3d5c484.bmp" width="320" height="234" class="img_ePxS"></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_9LLa" id="adquiring-ec-signal">Adquiring EC signal<a href="#adquiring-ec-signal" class="hash-link" aria-label="Direct link to Adquiring EC signal" title="Direct link to Adquiring EC signal">​</a></h2>
<p>The principal measurement in this case was made using KCI (potassium chloride) mixed with destilated water in proportion 1:1 for 50 ml. In this case, you need to read in 1 of the 4 external pins in the BNC connector for EC (see Figure).</p>
<p><img loading="lazy" alt="EC probe response" src="/assets/images/ec_hw_test_signal_response-3a17433dd6cf8537f8a26c7b878dbe8a.png" width="776" height="835" class="img_ePxS"></p>
<p>The response in the oscilloscope must to be similar to this:</p>
<p><img loading="lazy" alt="EC response" src="/assets/images/ec_probe_response-750fa502ee8606d3b5bfb1c045b91274.bmp" width="320" height="234" class="img_ePxS"></p>
<p>You can see the big difference compare to the excitation. Now, you have volage peaks with the same frequency to the signal excitation not square signal. This is due to the fast exponential behavior in the transfer of ions from the solution. In the same way, in the later stages of the conditioning circuit, a change in the signal will be obtained, so that it&#x27;s easily interpreted by the ADC.</p>
<div class="theme-admonition theme-admonition-info admonition_fUcp alert alert--info"><div class="admonitionHeading_WvcA"><span class="admonitionIcon_CYHh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_mvBh"><p>Compare the excitation signal (<strong>Channel 2</strong>) versus signal response (<strong>Channel 1</strong>):</p><p><img loading="lazy" alt="EC signal excitation vs signal response" src="/assets/images/excitation_vs_response-7e2069c1207b54bb7c276c8bd048fd02.bmp" width="320" height="234" class="img_ePxS"></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_9LLa" id="first-stage-of-conditioning">First stage of conditioning<a href="#first-stage-of-conditioning" class="hash-link" aria-label="Direct link to First stage of conditioning" title="Direct link to First stage of conditioning">​</a></h3>
<p>After check the correct response for the EC probe, you need to check the diode + OPA configuration.</p>
<p><img loading="lazy" alt="EC diodes signal" src="/assets/images/ec_hw_test_diode_response-8a3c425327ab2e25f49660d0a1adcb32.png" width="776" height="835" class="img_ePxS"></p>
<div class="theme-admonition theme-admonition-tip admonition_fUcp alert alert--success"><div class="admonitionHeading_WvcA"><span class="admonitionIcon_CYHh"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_mvBh"><p>You can put the oscilloscope probe near to D1 pin or D2 pin, the signal must to be the same.</p></div></div>
<p>In this case, you will be obtain a signal similar to a sawtooth with negative ramp and positive and negative peaks:</p>
<p><img loading="lazy" alt="EC conditioning in first stage" src="/assets/images/response_diodes-9def3dd2b30dd3188bddf6ae9c63882f.bmp" width="320" height="234" class="img_ePxS"></p>
<p>This signal varies in amplitudes depending on the quantity of KCI + destilated water in the test.</p>
<div class="theme-admonition theme-admonition-note admonition_fUcp alert alert--secondary"><div class="admonitionHeading_WvcA"><span class="admonitionIcon_CYHh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_mvBh"><p>This first test is only for check the answer in the EC, so the final value can change if you want to calibrate the EC.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_9LLa" id="second-stage-of-conditioning">Second stage of conditioning<a href="#second-stage-of-conditioning" class="hash-link" aria-label="Direct link to Second stage of conditioning" title="Direct link to Second stage of conditioning">​</a></h2>
<p>After see the sawtooth, you are ready to test the last stage for the analog conditioning.</p>
<p><img loading="lazy" alt="EC response ADC" src="/assets/images/ec_hw_test_response_to_ADC-784ade52f464483d5535adcf15117d2c.png" width="776" height="835" class="img_ePxS"></p>
<p>In this stage, you must to observe only a sawtooth with negative peaks and positive peaks.</p>
<p>This stage converts the negative values to positive and smooths the signal:</p>
<p><img loading="lazy" alt="EC response to ADC" src="/assets/images/response_to_ADC-0d2b1e01b7c12efe1c5701606725fa90.bmp" width="320" height="234" class="img_ePxS"></p>
<div class="theme-admonition theme-admonition-info admonition_fUcp alert alert--info"><div class="admonitionHeading_WvcA"><span class="admonitionIcon_CYHh"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_mvBh"><p>Compare the initial response (<strong>Channel 1</strong>) versus second stage of conditioning (<strong>Channel 2</strong>).</p><p><img loading="lazy" alt="EC response vs first stage of conditioning" src="/assets/images/response_vs_to_ADC-7a4bef2e6d9981db26d99fe26fdaabfc.bmp" width="320" height="234" class="img_ePxS"></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_9LLa" id="adc-conversion">ADC conversion<a href="#adc-conversion" class="hash-link" aria-label="Direct link to ADC conversion" title="Direct link to ADC conversion">​</a></h2>
<p>Once you have verify all conversion stages, the final steps is check the serial monitor with the ADC values from the microcontroller. So, if you have everthing ok, you will be obtain raw values likes this:</p>
<p><img loading="lazy" alt="EC raw values" src="/assets/images/ec_raw-18d48c30136417c489f7944764064d67.svg" width="1652" height="993" class="img_ePxS"></p>
<div class="theme-admonition theme-admonition-caution admonition_fUcp alert alert--warning"><div class="admonitionHeading_WvcA"><span class="admonitionIcon_CYHh"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_mvBh"><p>Be sure that  the ADC response is stable, in other case, you need to check the previous stages or considering to replace the capacitor <strong>C35</strong> in the board for a new with the 220 nF or 22 nF value.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hackuarium/docs.hackuarium.org/edit/main/docs/05-phmeter/04-tests/04-ec/README.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_ilxn" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_m4ks"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/phmeter/tests/ph/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">pH</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/programming"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Programming</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_tn7R thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#signal-generator" class="table-of-contents__link toc-highlight">Signal generator</a><ul><li><a href="#excitation-signal" class="table-of-contents__link toc-highlight">Excitation signal</a></li></ul></li><li><a href="#adquiring-ec-signal" class="table-of-contents__link toc-highlight">Adquiring EC signal</a><ul><li><a href="#first-stage-of-conditioning" class="table-of-contents__link toc-highlight">First stage of conditioning</a></li></ul></li><li><a href="#second-stage-of-conditioning" class="table-of-contents__link toc-highlight">Second stage of conditioning</a></li><li><a href="#adc-conversion" class="table-of-contents__link toc-highlight">ADC conversion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Hackuarium contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>